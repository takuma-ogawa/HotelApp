{"remainingRequest":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\src\\pages\\MasterAlertSetting.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\src\\pages\\MasterAlertSetting.vue","mtime":1607357266515},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport Card from '@/components/Card/Card.vue';\nimport arrayFunction from '@/js/array.js';\nimport url from '@/js/api_url.js';\nexport default {\n  name: 'niukeSyukei',\n  components: {\n    Card: Card\n  },\n  data: function data() {\n    return {\n      data: {\n        companyID: \"\",\n        //新規作成のIDは-1ととりあえず置いておく\n        //CRUDKeyは0が何もなし、1が編集,2が削除,3が新規\n        newID: -1,\n        search: {\n          model: {\n            memberName: \"\"\n          },\n          validation: {\n            Name: [{\n              required: true,\n              message: 'アラート設定名が入力されていません',\n              trigger: 'blur'\n            }]\n          }\n        },\n        master: {\n          model: {\n            meisai: []\n          }\n        },\n        disabled: {\n          save: false\n        }\n      }\n    };\n  },\n  methods: {\n    getAlertKindName: function getAlertKindName(AlertKind) {\n      if (AlertKind == 0) {\n        return \"点呼間隔\";\n      } else if (AlertKind == 1) {\n        return \"休憩間点呼\";\n      } else if (AlertKind == 2) {\n        return \"両方当てはまる場合\";\n      }\n    },\n    getAlertSettings: function getAlertSettings() {\n      var _this = this;\n\n      axios.get(url.ApiUrl().GetAlertSettingsMaster([{\n        key: \"CompanyID\",\n        value: this.data.companyID\n      }])).then(function (response) {\n        _this.$set(_this.data.master.model, \"meisai\", response.data);\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    },\n    changeCrud: function changeCrud(meisai, value) {\n      if (meisai.Crud != 3) {\n        this.$set(meisai, 'Crud', value);\n      }\n    },\n    changeEditorID: function changeEditorID(meisai) {\n      for (var i in meisai) {\n        if (meisai[i].Crud != 0) {\n          meisai[i].AlertSetting.EditorID = this.data.editorID;\n        }\n      }\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      this.$refs['masterForm'].validate(function (valid) {\n        if (valid) {\n          _this2.changeEditorID(_this2.data.master.model.meisai); //※axiosによる更新処理\n\n\n          _this2.data.disabled.save = true;\n          axios.post(url.ApiUrl().AlertSettingsMasterSave(), _this2.data.master.model.meisai).then(function (response) {\n            if (response.data) {\n              _this2.$message({\n                message: '登録に成功しました',\n                type: 'success'\n              });\n\n              _this2.getAlertSettings();\n            } else {\n              _this2.$message({\n                message: '登録に失敗しました',\n                type: 'error'\n              });\n            }\n\n            _this2.data.disabled.save = false;\n          }).catch(function (response) {\n            _this2.$message({\n              message: '通信に失敗しました',\n              type: 'error'\n            });\n\n            _this2.data.disabled.save = false;\n          });\n        }\n      });\n    }\n  },\n  created: function created() {\n    this.data.companyID = this.$store.state.login.companyID;\n    this.data.editorID = this.$store.state.login.userID;\n    this.getAlertSettings();\n  },\n  mounted: function mounted() {},\n  watch: {}\n};",{"version":3,"sources":["MasterAlertSetting.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <el-card>\r\n            <div slot='header'>\r\n                <span>アラート設定マスタ</span>\r\n            </div>\r\n            <div slot='default'>\r\n                <div class=\"row\" style=\"margin-top:4%;\">\r\n                    <div class=\"col-12\">\r\n                        <el-form :model=\"data.master.model\" :rules=\"data.master.validation\" ref=\"masterForm\" label-width=\"120px\">\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>\r\n                                            アラート設定種類\r\n                                        </th>\r\n                                        <th>\r\n                                            アラート色\r\n                                        </th>\r\n                                        <th>\r\n                                            アラート表示時間間隔\r\n                                        </th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tr v-for=\"(meisai_data,index) in data.master.model.meisai\" v-if=\"meisai_data.Crud != 2\">\r\n                                    <td>\r\n                                        {{getAlertKindName(meisai_data.AlertSetting.AlertKind)}}\r\n                                    </td>\r\n                                    <td>\r\n                                        <el-form-item label-width=\"0\"\r\n                                                      :prop=\"'meisai[' + index + '].AlertSetting.AlertColor'\"\r\n                                                      :rules=\"{\r\n                                                              required: true, message: 'アラート色が入力されていません', trigger: 'blur'\r\n                                                              }\">\r\n                                               <el-color-picker style='width:100%;'\r\n                                                             v-model=\"meisai_data.AlertSetting.AlertColor\"\r\n                                                             @change=\"changeCrud(meisai_data, 1)\"\r\n                                                             :disabled=\"data.disabled.save\"></el-color-picker>\r\n                                        </el-form-item>\r\n                                    </td>\r\n                                    <td>\r\n                                        <el-form-item label-width=\"0\"\r\n                                                      :prop=\"'meisai[' + index + '].AlertSetting.AlertInterval'\"\r\n                                                      :rules=\"{\r\n                                                              required: true, message: 'アラート表示時間間隔が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                      v-if=\"meisai_data.AlertSetting.AlertKind != 2\"\r\n                                                      >\r\n                                            <el-input-number type='text'\r\n                                                             style='width:100%;'\r\n                                                             v-model=\"meisai_data.AlertSetting.AlertInterval\"\r\n                                                             @change=\"changeCrud(meisai_data, 1)\"\r\n                                                             :min=\"0\"\r\n                                                             controls-position=\"right\"\r\n                                                             :disabled=\"data.disabled.save\"></el-input-number>\r\n                                        </el-form-item>\r\n                                    </td>\r\n                                </tr>\r\n                            </table>\r\n                        </el-form>\r\n                        <div style=\"text-align:right;\">\r\n                            <el-button style='margin-left:2%;width:10%;' type='danger' :disabled=\"data.disabled.save\" @click=\"submit\">保存</el-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n\r\n            </div>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // @ is an alias to /src\r\n    import Card from '@/components/Card/Card.vue'\r\n    import arrayFunction from '@/js/array.js'\r\n    import url from '@/js/api_url.js'\r\n\r\n    export default {\r\n        name: 'niukeSyukei',\r\n        components: {\r\n            Card\r\n        },\r\n        data: function () {\r\n            return {\r\n                data: {\r\n                    companyID: \"\",\r\n                    //新規作成のIDは-1ととりあえず置いておく\r\n                    //CRUDKeyは0が何もなし、1が編集,2が削除,3が新規\r\n                    newID: -1,\r\n                    search: {\r\n                        model: {\r\n                            memberName: \"\"\r\n                        },\r\n                        validation: {\r\n                            Name: [\r\n                                { required: true, message: 'アラート設定名が入力されていません', trigger: 'blur' },\r\n                            ],\r\n                        }\r\n                    },\r\n                    master: {\r\n                        model: {\r\n                            meisai: [],\r\n                        },\r\n                    },\r\n                    disabled: {\r\n                        save: false,\r\n                    },\r\n                },\r\n            }\r\n        },\r\n        methods: {\r\n            getAlertKindName: function (AlertKind) {\r\n\r\n                if (AlertKind == 0) {\r\n\r\n                    return \"点呼間隔\";\r\n\r\n                } else if (AlertKind == 1) {\r\n\r\n                    return \"休憩間点呼\";\r\n\r\n                } else if (AlertKind == 2) {\r\n\r\n                    return \"両方当てはまる場合\"\r\n                }\r\n\r\n            },\r\n            getAlertSettings: function () {\r\n\r\n                axios.get(url.ApiUrl().GetAlertSettingsMaster([{ key: \"CompanyID\", value: this.data.companyID }]))\r\n                    .then(response => {\r\n\r\n\r\n                        this.$set(this.data.master.model, \"meisai\", response.data);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n            },\r\n            changeCrud: function (meisai, value) {\r\n\r\n                if (meisai.Crud != 3) {\r\n\r\n                    this.$set(meisai, 'Crud', value)\r\n\r\n                }\r\n            },\r\n            changeEditorID: function (meisai) {\r\n\r\n                for (var i in meisai) {\r\n\r\n                    if (meisai[i].Crud != 0) {\r\n\r\n                        meisai[i].AlertSetting.EditorID = this.data.editorID;\r\n                    }\r\n                }\r\n            },\r\n            submit: function () {\r\n\r\n                this.$refs['masterForm'].validate((valid) => {\r\n\r\n                    if (valid) {\r\n\r\n                        this.changeEditorID(this.data.master.model.meisai);\r\n\r\n                        //※axiosによる更新処理\r\n\r\n                        this.data.disabled.save = true;\r\n\r\n                        axios.post(url.ApiUrl().AlertSettingsMasterSave(), this.data.master.model.meisai)\r\n                            .then(response => {\r\n\r\n                                if (response.data) {\r\n\r\n                                    this.$message({\r\n                                        message: '登録に成功しました',\r\n                                        type: 'success'\r\n                                    });\r\n\r\n                                    this.getAlertSettings();\r\n                                } else {\r\n\r\n                                    this.$message({\r\n                                        message: '登録に失敗しました',\r\n                                        type: 'error'\r\n                                    });\r\n\r\n                                }\r\n\r\n\r\n                                this.data.disabled.save = false;\r\n\r\n                            })\r\n                            .catch(response => {\r\n                                this.$message({\r\n                                    message: '通信に失敗しました',\r\n                                    type: 'error'\r\n                                });\r\n\r\n                                this.data.disabled.save = false;\r\n\r\n                            });\r\n                    }\r\n                })\r\n\r\n            }\r\n        },\r\n        created: function () {\r\n            this.data.companyID = this.$store.state.login.companyID;\r\n            this.data.editorID = this.$store.state.login.userID;\r\n\r\n            this.getAlertSettings();\r\n\r\n        },\r\n        mounted: function () {\r\n\r\n\r\n        },\r\n        watch: {\r\n\r\n        }\r\n    }\r\n</script>\r\n"],"sourceRoot":"src/pages"}]}