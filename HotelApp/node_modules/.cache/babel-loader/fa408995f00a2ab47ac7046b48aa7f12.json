{"remainingRequest":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\src\\components\\IncrementSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\src\\components\\IncrementSearch.vue","mtime":1603695681696},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\HotelApp\\project\\HotelApp\\HotelApp\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport search from '@/js/search/autocomplete.js';\nimport exsist from '@/js/status/exsist.js';\nimport array from '@/js/array/key_change.js';\nimport url from '@/js/api_url.js';\nexport default {\n  name: 'el-increment-search',\n  model: {\n    prop: 'code',\n    event: \"change\"\n  },\n  props: {\n    code: {\n      type: String\n    },\n    autoComplete: {\n      type: Array\n    },\n    display: {\n      type: Array\n    },\n    required: {\n      type: Boolean\n    },\n    kind: {\n      type: String\n    },\n    disabled: {\n      type: Boolean\n    },\n    autofocus: {\n      type: Boolean\n    }\n  },\n  data: function data() {\n    return {\n      data: {\n        code: null\n      },\n      autoCompleteData: {},\n      querySearchData: [],\n      placeholder: null,\n      message: {\n        error: \"\"\n      }\n    };\n  },\n  methods: {\n    querySearch: function querySearch(queryString, cb) {\n      var list = this.querySearchData;\n      var results = queryString ? list.filter(search.createSearchFilter(queryString, \"value\")) : list; // call callback function to return suggestions\n\n      cb(results);\n    },\n    autocompleteSelect: function autocompleteSelect(item) {\n      for (var i in this.autoComplete) {\n        this.autoCompleteData[this.autoComplete[i]] = item[this.autoComplete[i]];\n      }\n\n      this.$emit('change', item.value);\n      this.$emit('update', this.autoCompleteData);\n    },\n    autocompleteChange: function autocompleteChange(value) {\n      if (value == \"\") {\n        for (var i in this.autoComplete) {\n          this.autoCompleteData[this.autoComplete[i]] = \"\";\n        }\n\n        this.$emit('change', \"\");\n        this.$emit('update', this.autoCompleteData);\n        return false;\n      }\n\n      var result = exsist.is_exsist_by_object_value(value, this.querySearchData, \"value\");\n\n      if (!result) {\n        if (this.required) {\n          alert(this.message.error);\n\n          for (var i in this.autoComplete) {\n            this.autoCompleteData[this.autoComplete[i]] = \"\";\n          }\n\n          this.$emit('change', \"\");\n          this.$emit('update', this.autoCompleteData);\n        }\n\n        return false;\n      }\n\n      for (var i in this.autoComplete) {\n        this.autoCompleteData[this.autoComplete[i]] = result[this.autoComplete[i]];\n      }\n\n      this.$emit('change', value);\n      this.$emit('update', this.autoCompleteData);\n    },\n    createValueKey: function createValueKey(array, codeKey) {\n      for (var i in array) {\n        array[i].value = String(array[i][codeKey]);\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    //今は定数データを入れているがサーバーからaxiosでデータを取ってくる\n    if (this.kind == \"商品\") {\n      this.placeholder = \"商品コード\";\n      this.message.error = \"入力したコードの商品は存在しません\";\n      axios.get(url.syouhinMaster).then(function (response) {\n        array.createValueKey(response.data, \"syohinCD\", \"string\");\n        _this.querySearchData = response.data;\n        console.log(_this.querySearchData);\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"生産者\") {\n      this.placeholder = \"生産者コード\";\n      this.message.error = \"入力したコードの生産者は存在しません\";\n      axios.get(url.seisansyaMaster).then(function (response) {\n        array.createValueKey(response.data, \"seisansyacd\", \"string\");\n        _this.querySearchData = response.data;\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"品種\") {\n      this.placeholder = \"品種コード\";\n      this.message.error = \"入力したコードの品種は存在しません\";\n      var data = [{\n        code: \"0\",\n        name: \"三社\"\n      }, {\n        code: \"1\",\n        name: \"平核\"\n      }]; //codeの部分は本番環境のコードのキーに変える\n\n      this.createValueKey(data, \"code\");\n      this.querySearchData = data;\n    }\n\n    if (this.kind == \"等級\") {\n      this.placeholder = \"等級コード\";\n      this.message.error = \"入力したコードの等級は存在しません\";\n      var data = [{\n        code: \"0\",\n        name: \"上\"\n      }, {\n        code: \"99\",\n        name: \"特上\"\n      }, {\n        code: \"2\",\n        name: \"中\"\n      }, {\n        code: \"3\",\n        name: \"下\"\n      }, {\n        code: \"4\",\n        name: \"特下\"\n      }]; //codeの部分は本番環境のコードのキーに変える\n\n      this.createValueKey(data, \"code\");\n      this.querySearchData = data;\n    }\n\n    if (this.kind == \"支所\") {\n      this.placeholder = \"支所コード\";\n      this.message.error = \"入力したコードの支所は存在しません\";\n      axios.get(url.shisyoMaster).then(function (response) {\n        array.createValueKey(response.data, \"shisyoCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"サイズ\") {\n      this.placeholder = \"サイズコード\";\n      this.message.error = \"入力したコードのサイズは存在しません\";\n      var data = [{\n        code: \"0\",\n        name: \"S\"\n      }, {\n        code: \"1\",\n        name: \"L\"\n      }, {\n        code: \"2\",\n        name: \"M\"\n      }]; //codeの部分は本番環境のコードのキーに変える\n\n      this.createValueKey(data, \"code\");\n      this.querySearchData = data;\n    }\n\n    if (this.kind == \"市場\") {\n      this.placeholder = \"市場コード\";\n      this.message.error = \"入力したコードの市場は存在しません\";\n      axios.get(url.shijoMaster).then(function (response) {\n        array.createValueKey(response.data, \"shijyoCD\", \"string\");\n        _this.querySearchData = response.data;\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"部門\") {\n      this.placeholder = \"部門コード\";\n      this.message.error = \"入力したコードの部門は存在しません\";\n      axios.get(url.bumonMaster).then(function (response) {\n        array.createValueKey(response.data, \"bumoncd\", \"string\");\n        _this.querySearchData = response.data;\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"包装\") {\n      this.placeholder = \"包装コード\";\n      this.message.error = \"入力したコードの包装は存在しません\";\n      axios.get(url.hosoMaster).then(function (response) {\n        array.createValueKey(response.data, \"hosoCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"地区\") {\n      this.placeholder = \"地区コード\";\n      this.message.error = \"入力したコードの地区は存在しません\";\n      axios.get(url.chikuMaster).then(function (response) {\n        array.createValueKey(response.data, \"chikuCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"資材\") {\n      this.placeholder = \"資材コード\";\n      this.message.error = \"入力したコードの資材は存在しません\";\n      axios.get(url.shizaiMaster).then(function (response) {\n        array.createValueKey(response.data, \"shizaiCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n        console.log(_this.querySearchData);\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"運賃\") {\n      this.placeholder = \"運賃コード\";\n      this.message.error = \"入力したコードの運賃は存在しません\";\n      axios.get(url.unchinMaster).then(function (response) {\n        array.createValueKey(response.data, \"unchinCD\", \"string\");\n        _this.querySearchData = response.data;\n        console.log(_this.querySearchData);\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n  },\n  mounted: function mounted() {},\n  watch: {\n    'code': function code() {\n      this.data.code = this.code;\n    }\n  }\n};",{"version":3,"sources":["IncrementSearch.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n        <el-autocomplete style='width:30%; margin-right:2%;'\n                         v-model=\"data.code\"\n                         :fetch-suggestions=\"querySearch\"\n                         :placeholder=\"placeholder\"\n                         :disabled=\"disabled\"\n                         :autofocus=\"autofocus\"\n                         @select=\"autocompleteSelect\"\n                         @change=\"autocompleteChange\">\n            <template slot-scope=\"{ item }\">\n                <div style=\"border-top:solid 0.5px lightgray;\">コード:{{ item.value }}</div>\n                <div v-for=\"display in display\">{{display.name}}:{{ item[display.key] }}</div>\n                <div ></div>\n            </template>\n        </el-autocomplete>\n</template>\n\n<script>\n    import search from '@/js/search/autocomplete.js'\n    import exsist from '@/js/status/exsist.js'\n    import array from '@/js/array/key_change.js'\n    import url from '@/js/api_url.js'\n\n\n    export default {\n        name: 'el-increment-search',\n        model: {\n            prop: 'code',\n            event: \"change\",\n        },\n        props: {\n            code: {\n                type: String,\n            },\n            autoComplete: {\n                type: Array,\n            },\n            display: {\n                type:Array,\n            },\n            required: {\n                type: Boolean,\n            },\n            kind: {\n                type: String,\n            },\n            disabled: {\n                type: Boolean,\n            },\n            autofocus: {\n                type: Boolean,\n            }\n        },\n        data: function () {\n\n            return {\n                data: { code: null },\n                autoCompleteData: {},\n                querySearchData: [\n                ],\n                placeholder: null,\n                message: {\n                    error: \"\",\n                }\n            }\n        },\n        methods: {\n            querySearch: function (queryString, cb) {\n\n                var list = this.querySearchData;\n                var results = queryString ? list.filter(search.createSearchFilter(queryString, \"value\")) : list;\n                // call callback function to return suggestions\n                cb(results);\n            },\n            autocompleteSelect: function (item) {\n\n                for (var i in this.autoComplete) {\n\n                    this.autoCompleteData[this.autoComplete[i]] = item[this.autoComplete[i]];\n                }\n\n                this.$emit('change', item.value)\n                this.$emit('update', this.autoCompleteData);\n\n\n            },\n            autocompleteChange: function (value) {\n\n                if (value == \"\") {\n\n                    for (var i in this.autoComplete) {\n\n                        this.autoCompleteData[this.autoComplete[i]] = \"\";\n                    }\n\n                    this.$emit('change', \"\")\n                    this.$emit('update', this.autoCompleteData);\n\n\n\n                    return false;\n                }\n\n                var result = exsist.is_exsist_by_object_value(value, this.querySearchData, \"value\");\n\n                if (!result) {\n\n                    if (this.required) {\n                        alert(this.message.error);\n\n                        for (var i in this.autoComplete) {\n\n                            this.autoCompleteData[this.autoComplete[i]] = \"\";\n                        }\n\n                        this.$emit('change', \"\")\n                        this.$emit('update', this.autoCompleteData);\n\n\n\n                    }\n\n                    return false;\n                }\n\n                for (var i in this.autoComplete) {\n\n                    this.autoCompleteData[this.autoComplete[i]] = result[this.autoComplete[i]];\n                }\n\n                this.$emit('change', value)\n\n                this.$emit('update', this.autoCompleteData);\n\n\n\n            },\n            createValueKey: function (array,codeKey) {\n              \n                for (var i in array) {\n                    array[i].value = String(array[i][codeKey]);\n                }\n\n            }\n\n        },\n        created: function () {\n            //今は定数データを入れているがサーバーからaxiosでデータを取ってくる\n\n            if (this.kind == \"商品\") {\n                this.placeholder = \"商品コード\"\n                this.message.error = \"入力したコードの商品は存在しません\";\n\n\n\n\n                axios.get(url.syouhinMaster)\n                    .then(response => {\n\n\n                        array.createValueKey(response.data, \"syohinCD\", \"string\");\n\n                        this.querySearchData = response.data;\n\n                        console.log(this.querySearchData);\n\n                    })\n                    .catch(response => console.log(response))\n\n\n                \n\n            }\n\n        \n            if (this.kind == \"生産者\") {\n                this.placeholder = \"生産者コード\"\n              this.message.error = \"入力したコードの生産者は存在しません\";\n\n                axios.get(url.seisansyaMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"seisansyacd\", \"string\");\n\n                        this.querySearchData = response.data;\n\n \n                    })\n                    .catch(response => console.log(response))\n\n\n            }\n\n            if (this.kind == \"品種\") {\n                this.placeholder = \"品種コード\"\n               this.message.error = \"入力したコードの品種は存在しません\";\n\n                var data = [\n                    { code: \"0\", name: \"三社\" },\n                    { code: \"1\", name: \"平核\" },\n                ];\n\n                //codeの部分は本番環境のコードのキーに変える\n                this.createValueKey(data, \"code\");\n\n                this.querySearchData = data;\n\n            }\n\n            if (this.kind == \"等級\") {\n                this.placeholder = \"等級コード\"\n                this.message.error = \"入力したコードの等級は存在しません\";\n\n                var data = [\n                    { code: \"0\", name: \"上\" },\n                    { code: \"99\", name: \"特上\" },\n                    { code: \"2\", name: \"中\" },\n                    { code: \"3\", name: \"下\" },\n                    { code: \"4\", name: \"特下\" },\n\n                ];\n\n                //codeの部分は本番環境のコードのキーに変える\n                this.createValueKey(data, \"code\");\n\n                this.querySearchData = data;\n\n            }\n\n            if (this.kind == \"支所\") {\n                this.placeholder = \"支所コード\"\n                this.message.error = \"入力したコードの支所は存在しません\";\n\n                axios.get(url.shisyoMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"shisyoCD\", \"string\");\n\n                        this.querySearchData = response.data;\n\n                        this.data.code = this.code;\n\n                        if (this.code != \"\") {\n\n                            this.autocompleteChange(this.data.code);\n                        }\n\n    \n                    })\n                    .catch(response => console.log(response))\n\n            }\n\n\n                   if (this.kind == \"サイズ\") {\n                this.placeholder = \"サイズコード\"\n                this.message.error = \"入力したコードのサイズは存在しません\";\n\n                var data = [\n                    { code: \"0\", name: \"S\" },\n                    { code: \"1\", name: \"L\" },\n                    { code: \"2\", name: \"M\" },\n                \n                ];\n\n                //codeの部分は本番環境のコードのキーに変える\n                this.createValueKey(data, \"code\");\n\n                this.querySearchData = data;\n\n            }\n\n\n            if (this.kind == \"市場\") {\n                this.placeholder = \"市場コード\"\n                this.message.error = \"入力したコードの市場は存在しません\";\n\n\n                axios.get(url.shijoMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"shijyoCD\", \"string\");\n\n                        this.querySearchData = response.data;\n\n           \n\n                    })\n                    .catch(response => console.log(response))\n\n\n            }\n\n            if (this.kind == \"部門\") {\n                this.placeholder = \"部門コード\"\n                this.message.error = \"入力したコードの部門は存在しません\";\n\n                axios.get(url.bumonMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"bumoncd\", \"string\");\n\n                        this.querySearchData = response.data;\n\n\n                    })\n                    .catch(response => console.log(response))\n\n            }\n\n            if (this.kind == \"包装\") {\n                this.placeholder = \"包装コード\"\n                this.message.error = \"入力したコードの包装は存在しません\";\n\n                axios.get(url.hosoMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"hosoCD\", \"string\");\n\n                        this.querySearchData = response.data;\n\n                        this.data.code = this.code;\n\n                        if (this.code != \"\") {\n\n                            this.autocompleteChange(this.data.code);\n                        }\n\n\n                    })\n                    .catch(response => console.log(response))\n\n\n            }\n\n            if (this.kind == \"地区\") {\n                this.placeholder = \"地区コード\"\n                this.message.error = \"入力したコードの地区は存在しません\";\n\n                axios.get(url.chikuMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"chikuCD\", \"string\");\n\n                        this.querySearchData = response.data;\n\n                        this.data.code = this.code;\n\n                        if (this.code != \"\") {\n\n                            this.autocompleteChange(this.data.code);\n                        }\n\n\n                    })\n                    .catch(response => console.log(response))\n\n\n            }\n\n\n\n            if (this.kind == \"資材\") {\n                this.placeholder = \"資材コード\"\n                this.message.error = \"入力したコードの資材は存在しません\";\n\n                axios.get(url.shizaiMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"shizaiCD\", \"string\");\n\n                        this.querySearchData = response.data;\n\n                        this.data.code = this.code;\n\n                        console.log(this.querySearchData);\n\n                        if (this.code != \"\") {\n\n                            this.autocompleteChange(this.data.code);\n                        }\n\n\n                    })\n                    .catch(response => console.log(response))\n\n\n            }\n\n\n            if (this.kind == \"運賃\") {\n                this.placeholder = \"運賃コード\"\n                this.message.error = \"入力したコードの運賃は存在しません\";\n\n                axios.get(url.unchinMaster)\n                    .then(response => {\n\n                        array.createValueKey(response.data, \"unchinCD\", \"string\");\n\n                        this.querySearchData = response.data;\n\n\n                        console.log(this.querySearchData);\n\n                    })\n                    .catch(response => console.log(response))\n\n\n            }\n\n\n\n        \n        },\n        mounted: function () {\n\n        },\n        watch: {\n            'code': function () {\n                this.data.code = this.code;\n\n\n              }\n   \n        },\n    }\n</script>\n\n<style scoped>\n</style>"],"sourceRoot":"src/components"}]}